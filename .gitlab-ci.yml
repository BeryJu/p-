# Global Variables
before_script:
  - "python3 -m pip install -U virtualenv"
  - "virtualenv env"
  - "source env/bin/activate"
  - "pip3 install -U -r requirements.txt -r requirements-dev.txt"
stages:
  - test
image: python:3.6

isort:
  script:
    - "isort -c -vb -sg env -b importlib"
  stage: test
  cache:
    paths:
      - env/
migrations:
  script:
    - "python manage.py migrate"
  stage: test
  cache:
    paths:
      - env/
prospector:
  script:
    - "prospector"
  stage: test
  cache:
    paths:
      - env/
pylint:
  script:
    - "pylint --load-plugins pylint_django pyazo"
  stage: test
  cache:
    paths:
      - env/

